use strict;

my $usage = "perl make-vadr-minfo.pl <CM file name>\n";
if(scalar(@ARGV) != 1) { die $usage; }

my ($cm_file) = (@ARGV);

my $tt;
my $root;
if($cm_file =~ /^(\S+.tt\d+\.\S+).\d+p\d+.vadr.cm$/) { 
  $root = $1;
}
else { 
  die "ERROR unable to parse cm file name";
}

my $clen = `grep CLEN $cm_file`;
if($clen =~ s/^CLEN\s+//) {
  chomp $clen;
}
else { 
  die "ERROR unable to find clen\n";
}

print ("MODEL $model_root group:\"cox1\" subgroup:\"$root\" transl_table:\"$tt\" length:\"$clen\" blastdb:\"$blast_db_dst_file\"\n");
print ("FEATURE $model_root type:\"CDS\" coords:\"1..$clen\:+\" gene:\"COX1\" product:\"cytochrome c oxidase subunit I\"\n");

